{"remainingRequest":"/home/oliverqa/Documents/engee_frontend/node_modules/babel-loader/lib/index.js!/home/oliverqa/Documents/engee_frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/oliverqa/Documents/engee_frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/oliverqa/Documents/engee_frontend/src/views/reset_password.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/oliverqa/Documents/engee_frontend/src/views/reset_password.vue","mtime":1697567679591},{"path":"/home/oliverqa/Documents/engee_frontend/babel.config.js","mtime":1696956634557},{"path":"/home/oliverqa/Documents/engee_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1696957408684},{"path":"/home/oliverqa/Documents/engee_frontend/node_modules/babel-loader/lib/index.js","mtime":1696963682945},{"path":"/home/oliverqa/Documents/engee_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1696957408684},{"path":"/home/oliverqa/Documents/engee_frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1696957402224}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAidnVlLXRvYXN0aWZpY2F0aW9uIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJyZXNldF9wYXNzd29yZCIsCiAgcHJvcHM6IFsndWlkJywgJ3NsdWcnXSwKICBkYXRhOiAoKSA9PiAoewogICAgY3VycmVudF9wYXNzd29yZDogJycsCiAgICBuZXdfcGFzc3dvcmQ6ICcnLAogICAgbG9hZGluZzogZmFsc2UsCiAgICB0b2FzdDogdXNlVG9hc3QoKSwKICAgIG1zZzogW10KICB9KSwKICBtZXRob2RzOiB7CiAgICByZXNldFBhc3N3b3JkKCkgewogICAgICBpZiAodGhpcy5uZXdfcGFzc3dvcmQgPT09IHRoaXMuY3VycmVudF9wYXNzd29yZCkgewogICAgICAgIHRoaXMudG9hc3QuZXJyb3IoJ9Cd0L7QstC40Lkg0L/QsNGA0L7Qu9GMINC90LUg0LzQvtC20LUg0YHQv9GW0LLQv9Cw0LTQsNGC0Lgg0LfRliDRgdGC0LDRgNC40LwnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgidWlkIiwgdGhpcy51aWQpOwogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgidG9rZW4iLCB0aGlzLnNsdWcpOwogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgibmV3X3Bhc3N3b3JkIiwgdGhpcy5uZXdfcGFzc3dvcmQpOwogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiY3VycmVudF9wYXNzd29yZCIsIHRoaXMuY3VycmVudF9wYXNzd29yZCk7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICBheGlvcyh7CiAgICAgICAgICB1cmw6IHRoaXMuJHN0b3JlLnN0YXRlLmJhY2tlbmRVcmwgKyBgYXV0aC91c2Vycy9zZXRfcGFzc3dvcmQvYCwKICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLAogICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgIGNvbnN0IGZvcm1EYXRhMSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgZm9ybURhdGExLmFwcGVuZCgidWlkIiwgdGhpcy51aWQpOwogICAgICAgICAgZm9ybURhdGExLmFwcGVuZCgidG9rZW4iLCB0aGlzLnNsdWcpOwogICAgICAgICAgZm9ybURhdGExLmFwcGVuZCgibmV3X3Bhc3N3b3JkIiwgdGhpcy5uZXdfcGFzc3dvcmQpOwogICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIGF4aW9zKHsKICAgICAgICAgICAgdXJsOiB0aGlzLiRzdG9yZS5zdGF0ZS5iYWNrZW5kVXJsICsgYGF1dGgvdXNlcnMvcmVzZXRfcGFzc3dvcmRfY29uZmlybS9gLAogICAgICAgICAgICBkYXRhOiBmb3JtRGF0YTEsCiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICB9CiAgICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy50b2FzdC5zdWNjZXNzKCfQn9Cw0YDQvtC70Ywg0LfQvNGW0L3QtdC90L4nKTsKICAgICAgICAgICAgbGV0IHIgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgICAgICAgbmFtZTogJyBIb21lJyAvLyBwdXQgeW91ciByb3V0ZSBpbmZvcm1hdGlvbiBpbgogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHIpOwogICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgdGhpcy50b2FzdC5lcnJvcign0J/QvtC80LjQu9C60LAhJyksIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgfSk7CiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIHRoaXMudG9hc3QuZXJyb3IoJ9Ce0YjQuNCx0LrQsCcpLCB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHZhbGlkYXRlUGFzc3N3b3JkKHZhbHVlKSB7CiAgICAgIGlmICgvXig/PS4qW0EtWmEtel0pKD89LipcZCkoPz0uKltAJCElKiM/Jl9dKVtBLVphLXpcZEAkISUqIz8mX117OCx9Ly50ZXN0KHZhbHVlKSkgewogICAgICAgIHRoaXMubXNnWydwYXNzd29yZCddID0gJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5tc2dbJ3Bhc3N3b3JkJ10gPSAn0JIg0L/QsNGA0L7Qu9C1INC00L7Qu9C20L3QviDQsdGL0YLRjCDQvNC40L3QuNC80YPQvCA4INGB0LjQvNCy0L7Qu9C+0LI6INGG0YvRhNGA0YssINCx0YPQutCy0Ysg0Lgg0YHQv9C10YYu0YHQuNC80LLQvtC70YsnOwogICAgICB9CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgbmV3X3Bhc3N3b3JkKHZhbHVlKSB7CiAgICAgIC8vIGJpbmRpbmcgdGhpcyB0byB0aGUgZGF0YSB2YWx1ZSBpbiB0aGUgZW1haWwgaW5wdXQKICAgICAgdGhpcy5uZXdfcGFzc3dvcmQgPSB2YWx1ZTsKICAgICAgdGhpcy52YWxpZGF0ZVBhc3Nzd29yZCh2YWx1ZSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["axios","useToast","name","props","data","current_password","new_password","loading","toast","msg","methods","resetPassword","error","formData","FormData","append","uid","slug","url","$store","state","backendUrl","method","headers","then","response","console","log","formData1","success","r","$router","resolve","push","catch","err","validatePasssword","value","test","watch"],"sources":["/home/oliverqa/Documents/engee_frontend/src/views/reset_password.vue"],"sourcesContent":["<template>\n     <div v-if=\"loading\" class=\"preloader\">\n    <div class=\"preloader__image\">\n    </div>\n</div>\n\n\n\n\n\n      <body class=\"bg-default\">\n  <!-- Navbar -->\n\n  <!-- Main content -->\n  <div class=\"main-content\">\n   <div class=\"header bg-gradient-primary py-7 py-lg-8 pt-lg-9\">\n      <div class=\"container\">\n        <div class=\"header-body text-center mb-7\">\n          <div class=\"row justify-content-center\">\n    <div class=\"container mtb\">\n        <div  style=\"margin-left: auto;margin-right: auto\">\n\t<div>\n\t\t<div data-aos=\"flip-up\" data-aos-delay=\"100\" data-aos-duration=\"1000\" >\n\t\t\t<form  @submit.prevent=\"resetPassword\">\n\t\t\t\t<h2 style=\"color: white\">Зміна паролю</h2>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<input type=\"password\" v-model=\"current_password\" name=\"full-name\" id=\"full-name\" class=\"form-control\" placeholder=\"Старий пароль\" required>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<input type=\"password\"  v-model=\"new_password\" name=\"password\" id=\"password\" class=\"form-control\" placeholder=\"Новий пароль\" required>\n                     <span v-if=\"msg.password\">{{msg.password}}</span>\n\n\t\t\t\t</div>\n\t\t\t\t<div >\n\n          <input  :disabled=\"msg['password']!=''\" class=\"btn btn-dark\" type=\"submit\" name=\"reset\" value=\"Змінити\">\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n\n\n\n\n    </div>\n  </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"separator separator-bottom separator-skew zindex-100\">\n        <svg x=\"0\" y=\"0\" viewBox=\"0 0 2560 100\" preserveAspectRatio=\"none\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n          <polygon class=\"fill-default\" points=\"2560 0 2560 100 0 100\"></polygon>\n        </svg>\n      </div>\n    </div>\n\n  </div>\n<footer class=\"py-5\" id=\"footer-main\">\n    <div class=\"container\">\n      <div class=\"row align-items-center justify-content-xl-between\">\n        <div class=\"col-xl-6\">\n          <div class=\"copyright text-center text-xl-left text-muted\">\n            &copy; 2023 <a href=\"https://github.com/elaiviaien\" class=\"font-weight-bold ml-1\" target=\"_blank\">elaiviaien</a>\n          </div>\n        </div>\n        <div class=\"col-xl-6\">\n          <ul class=\"nav nav-footer justify-content-center justify-content-xl-end\">\n            <li class=\"nav-item\">\n              <a  class=\"nav-link\" target=\"_blank\">elaiviaien</a>\n            </li>\n            <li class=\"nav-item\">\n              <a href=\"https://t.me/liumphis\" class=\"nav-link\" target=\"_blank\">Співпраця</a>\n            </li>\n            <li class=\"nav-item\">\n              <a href=\"http://hiker.elaiviaien.com\" class=\"nav-link\" target=\"_blank\">Сайт для туризму</a>\n            </li>\n            <li class=\"nav-item\">\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </footer>\n    </body>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport {useToast} from \"vue-toastification\";\n\nexport default {\n  name: \"reset_password\",\n  props:['uid','slug'],\n  data:()=>({\n    current_password:'',\n    new_password:'',\n    loading:false,\n\t  toast : useToast(),\n    msg:[]\n  }),\n  methods:{\n    resetPassword(){\n    \tif(this.new_password === this.current_password){\n    \t\tthis.toast.error('Новий пароль не може співпадати зі старим')\n\t\t}\n    \telse{\n      const formData = new FormData();\n                                      formData.append(\"uid\", this.uid)\n                                      formData.append(\"token\", this.slug)\n                                      formData.append(\"new_password\", this.new_password)\n                                      formData.append(\"current_password\", this.current_password)\n                                      this.loading =true\n              axios({url: this.$store.state.backendUrl+`auth/users/set_password/`,data:formData, method: 'POST',headers: {'Content-type': 'application/json',}}).then(response => {\n                console.log(response)\n\n\n\n                      const formData1 = new FormData();\n                                      formData1.append(\"uid\", this.uid)\n                                      formData1.append(\"token\", this.slug)\n                                      formData1.append(\"new_password\", this.new_password)\n                                      this.loading =true\n              axios({url: this.$store.state.backendUrl+`auth/users/reset_password_confirm/`,data:formData1, method: 'POST',headers: {'Content-type': 'application/json',}}).then(response => {\n                console.log(response)\n                this.loading= false\n                  this.toast.success('Пароль змінено')\n                \tlet r = this.$router.resolve({\n\t\t\t\t\t\t\t\tname: ' Home', // put your route information in\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.$router.push(r)\n              }).catch(err => {this.toast.error('Помилка!'), this.loading = false\n})\n              }).catch(err => {\t\n\t\t\t\t  this.toast.error('Ошибка'),this.loading = false\n\t\t\t  })\n\n    }\n  },\n         validatePasssword(value){\n      if (/^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&_])[A-Za-z\\d@$!%*#?&_]{8,}/.test(value))\n  {\n    this.msg['password'] = '';\n  } else{\n    this.msg['password'] = 'В пароле должно быть минимум 8 символов: цыфры, буквы и спец.символы';\n  }\n    },},\n          watch: {\n            new_password(value){\n                // binding this to the data value in the email input\n                this.new_password = value;\n                this.validatePasssword(value);\n            }}\n\n}\n</script>\n\n<style scoped>\n\n.form-detail{\n  text-align: center;\n}\n  .preloader {\n    position: fixed;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    overflow: hidden;\n    background: #fff;\n    z-index: 1001;\n        opacity: 50%;\n\n  }\n\n  .preloader__image {\n    position: relative;\n    top: 50%;\n    left: 50%;\n    width: 64px;\n    height: 64px;\n    margin-top: -32px;\n    margin-left: -32px;\n    background: url('../assets/Walk.gif') no-repeat 50% 50%;\n    /*расположение (url) изображения gif и др. параметры*/\n  }\n\n  .loaded_hiding .preloader {\n    transition: 0.3s opacity;\n    opacity: 0;\n  }\n\n\n</style>"],"mappings":"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"}]}